<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forms 2</title>
    <style>
        body {
            height: 100vh;
            display: grid;
            place-items: center;
        }
    </style>

</head>

<body>
    <form>
        <table border="1" style="border-collapse: collapse;">
            <tr>
                <th colspan="2">Visitor Information</th>
            </tr>
            <tr>
                <td><label>Email Address:</label></td>
                <td><input type="email" id="emailid"></td>
            </tr>
            <tr>
                <td><label>Do you use web for:</label></td>
                <td><input type="checkbox" name="use" />Research
                    <input type="checkbox" name="use" />Purchase
                </td>
            </tr>
            <tr>
                <td>Occupation:</td>
                <td>
                    <select name="Occupation" id="selectlist">
                        <option value="x">--Select--</option>
                        <option value="a">Teacher</option>
                        <option value="b">Student</option>
                        <option value="c">Goverment Officer</option>
                        <option value="d">Admin</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td><label>Want us to send your junk email?</label></td>
                <td><input type="radio" name="rad">Absolutely
                    <input type="radio" name="rad">No way, man
                </td>
            </tr>
            <tr>
                <td style="text-align: right;">
                    <input type="button" value="SUBMIT" onclick="validation()" />
                </td>
                <td>
                    <input type="reset" value="RESET" />
                </td>
            </tr>
        </table>
        <span id="error"></span>
    </form>

    <script>
        function validation() {

            var mailid = document.getElementById("emailid").value;
            // alert(mailid);
            var mailpattern = /^[\w\.]{10,30}@[a-z0-9]{4,20}\.[a-z]{2,3}$/
            if (!mailpattern.test(mailid)) {
                document.getElementById("error").innerHTML += "Invalid Mail.."
            }
            // else {
            //     document.getElementById("error").innerHTML += "Valid Mail.."
            // }

            let dropdown = document.getElementById("selectlist"); // Get the select element
            let selectedValue = dropdown.value; // Get its current value

            if (selectedValue === "x") { // Check if default "--Select--" is chosen
                document.getElementById("error").innerHTML += "Select occupation option...";
            }
            
            let radiocheck = document.getElementsByName("rad");
            let isSelect = false;
            
            for(let i of radiocheck){
                if(i.checked){
                    isSelect = true;
                    break;
                }
            }
            
            if(!isSelect){
                document.getElementById("error").innerHTML += "Select radio button";
            }
        }
    </script>
</body>

</html>